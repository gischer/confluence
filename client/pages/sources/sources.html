<template name='Sources'>
  <div class="container">
    {{>Navbar sources=sources}}
    {{#if newSourceHasError}}
      <div class='row'>
        <span class='text-danger'>{{newSourceErrorMessage}}</span>
      </div>
    {{/if}}
    {{#if hostIsSandstorm }}
    {{else}}
    <div class='row mr-2'>
      <div class='input-group mb-2'>
        <div class='input-group-prepend'>
          <span class='input-group-text'>Source Base Url</span>
        </div>
        <input type='text' class='form-control' id='new-source-base-url' placeholder='Url of an app-index'>
      </div>
    </div>
    {{/if}}
    <div class='row mr-2'>
      <div class='input-group mb-2'>
        <div class='input-group-prepend'>
          <span class='input-group-text'>Source Name</span>
        </div>
        <input type='text' class='form-control' id='new-source-name' placeholder="Some descriptive name of the source">
        <button class='btn btn-primary ml-2' id='add-new-source'>Add Source</button>
      </div>
    </div>
    <div class='row mr-2'>
      <dl class='list-group'>
      {{#each source in sources}}
        <dt class='list-group-item'>{{source.name}}</dt>
        <dd class='list-group-item'>Status: <i>{{{source.downloadStatus}}}</i>; Last Downloaded: <i>{{timeOf source}}</i></dd>
      {{/each}}
      </dl>
    </div>
  </div>
</template>
